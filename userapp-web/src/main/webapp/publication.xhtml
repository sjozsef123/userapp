<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" />
<title>Publication</title>
</head>
<body>

	<h2>Publication list</h2>

	<div style="float: left; clear: both; margin-right: 50px;">

		<h4>Filter by name:</h4>
		<h:form>
			<p>
				<h:inputText value="#{publicationmanagedbean.filter}">
				</h:inputText>
				<br />
				<h:commandButton value="Search" render="publicationList" />
				<h:commandButton value="Clear"
					action="#{publicationmanagedbean.clearFilter()}"
					render="publicationList" />

			</p>
		</h:form>
		<h:form rendered="#{not empty publicationmanagedbean.publicationList}">
			<h:dataTable id="publicationList"
				value="#{publicationmanagedbean.publicationList}" var="item">
				<h:column>
					<f:facet name="header">Title</f:facet>#{item.title}</h:column>
				<h:column>
					<f:facet name="header">Type</f:facet>#{publicationmanagedbean.getType(item)}</h:column>

				<h:column>
					<h:commandButton value="edit" />
				</h:column>
				<h:column>
					<h:commandButton value="delete"
						action="#{publicationmanagedbean.deletePublication(item)}"
						onclick="if(!confirm('Do you really wanna do that?')) return false" />
				</h:column>

			</h:dataTable>
		</h:form>

		<h:panelGroup
			rendered="#{empty publicationmanagedbean.publicationList}">
			<p>No Publication!.</p>
		</h:panelGroup>
	</div>

	<div style="float: left; clear: right; margin-right: 50px;">
		<h2>Add publication</h2>
		<h:form>
			<p>
				Title:
				<h:inputText id="publicationTitle" binding="#{title}"
					required="true" />
			</p>

			<p>
				Stock:
				<h:inputText id="publicationStock" binding="#{stock}"
					required="true" />
			</p>

			<p>
				Publisher:
				<h:inputText id="publicationPublisher" binding="#{publisher}"
					required="true" />
			</p>

			<p>
				Release date:
				<h:inputText id="publicationPelease" binding="#{release}"
					required="true" />
			</p>

			<p>
				<h:outputText value="Proba" />
				<h:selectOneRadio id="publicationType"
					value="#{publicationmanagedbean.selectedPublicationType}">
					<f:selectItem id="bookRadio" itemValue="book" itemLabel="Book" />
					<f:selectItem id="magazineRadio" itemValue="magazine"
						itemLabel="Magazine" />
					<f:selectItem id="newspaperRadio" itemValue="newspaper"
						itemLabel="Newspaper" />
					<f:ajax execute="@this" render="choice" />
				</h:selectOneRadio>


				<h:outputText id="choice"
					value="#{publicationmanagedbean.selectedPublicationType}" />
			</p>

			<p>
				<h:commandButton value="Add"
					action="#{publicationmanagedbean.test(selectedPublicationType.value)}" />

			</p>

		</h:form>
	</div>



</body>
</html>